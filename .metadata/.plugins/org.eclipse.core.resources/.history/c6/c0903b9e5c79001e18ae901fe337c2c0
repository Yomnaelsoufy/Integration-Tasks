package com.example.main.api.router;

import org.apache.camel.*;
import org.apache.camel.Exchange;
import org.apache.camel.builder.RouteBuilder;
import org.apache.camel.impl.DefaultCamelContext;
import org.apache.camel.support.SimpleRegistry;
import org.springframework.stereotype.Component;

import com.mysql.cj.jdbc.MysqlDataSource;

@Component
public class FourthServiceRouter extends RouteBuilder {

    @Override
    public void configure() throws Exception {
        MysqlDataSource datasource = new MysqlDataSource();
        datasource.setUrl("jdbc:mysql://localhost:3306/dbschem");
        datasource.setUser("root");
        datasource.setPassword("hanaaElshamy1");

        getContext().getRegistry().bind("myDataSource", datasource); 

        from("direct:fourthService")
            .to("jdbc:myDataSource");
 }
}
//            .setBody(constant("{\"id\": \"1081871111\", \"action\": \"SpRequest\", \"service\":\"Login\" }"))
//            .log("fourth req: ${body}")    
//            .setHeader(Exchange.HTTP_METHOD, constant("POST"))
//            .to("http://localhost:8086/v1/nafath-app/id-verification/initiate?bridgeEndpoint=true");
   
